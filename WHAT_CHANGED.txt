IMPORTANT: DOCUMENTATION UPDATED - January 21, 2026
===================================================

AMI Creation Method Changed: Packer → Red Hat Official VMDK Import
-------------------------------------------------------------------

WHY THIS CHANGE?
----------------
Customer asked: "Why don't we use the Red Hat documented process?"

Answer: You're right! We SHOULD use Red Hat's official method because:

1. ✅ It's the official Red Hat supported process
2. ✅ Your consultant already provided this for 4.14
3. ✅ Same method, just update version numbers
4. ✅ Better for Red Hat support cases

WHAT CHANGED?
-------------
OLD Method (v1.0):
- Used Packer to rebuild existing Red Hat AMI
- Required Packer installation
- Custom/unofficial approach

NEW Method (v2.0):
- Uses Red Hat official VMDK import
- Only requires AWS CLI (already needed)
- Official supported method
- Same as your 4.14 PDF procedure

FILES CHANGED:
--------------
REMOVED:
  ❌ custom-ami-build/rhcos-4.16-custom.pkr.hcl
  ❌ custom-ami-build/variables.pkrvars.hcl.example

ADDED:
  ✅ custom-ami-build/create-custom-ami.sh (automated script)
  ✅ custom-ami-build/.gitignore
  ✅ CHANGELOG.md (detailed change log)
  ✅ UPDATES_SUMMARY.md (migration guide)
  ✅ WHAT_CHANGED.txt (this file)

UPDATED:
  ✅ README.md - Part 1 completely rewritten
  ✅ QUICKSTART.md - Phase 1 updated
  ✅ SUMMARY.md - AMI build description updated
  ✅ INDEX.md - File references updated
  ✅ START_HERE.md - Prerequisites updated
  ✅ FILES_DELIVERED.txt - Inventory updated
  ✅ custom-ami-build/README.md - Complete rewrite

IMPORTANT CORRECTION: IMDSv2
-----------------------------
Previous docs incorrectly stated IMDSv2 was "in the AMI".

CORRECT INFORMATION:
- IMDSv2 is configured AT INSTANCE LAUNCH
- Set in install-config.yaml or machine sets
- NOT an AMI property
- Same config needed for ALL AMIs (custom or standard)

Configuration:
```yaml
metadataService:
  authentication: Required  # Enforces IMDSv2
```

This applies to BOTH:
- Custom AMI (created with this guide)
- Standard Red Hat AMI (if you don't need KMS)

WHAT YOU SHOULD DO:
-------------------

1. READ: custom-ami-build/README.md (updated)
2. USE: ./create-custom-ami.sh script
3. CONFIGURE: IMDSv2 in install-config.yaml (as before)

NEW PROCESS SUMMARY:
--------------------
# Set environment
export RHCOS_VERSION="4.16.51"
export AWS_REGION="eu-west-1"
export KMS_KEY_ID="arn:aws:kms:...:key/..." # Your KMS key

# Run automated script
cd Openshift_4.16/custom-ami-build/
./create-custom-ami.sh

# Script does:
# 1. Downloads RHCOS VMDK from Red Hat (~5 min)
# 2. Uploads to S3 (~10 min)
# 3. Imports as encrypted snapshot (~20 min)
# 4. Registers AMI (~1 min)
# 5. Saves results to custom-ami-result.env

# Use the AMI
source custom-ami-result.env
echo "Your AMI: $CUSTOM_AMI"

TIME: ~30-40 minutes (mostly AWS import processing)

BENEFITS OF THIS CHANGE:
-------------------------
✅ Official Red Hat supported method
✅ Matches your 4.14 consultant PDF
✅ Simpler (no Packer needed)
✅ Better for support cases
✅ Same process for future versions
✅ Accurate IMDSv2 documentation

NO IMPACT IF:
-------------
- You already built an AMI (either method works)
- You're in middle of installation (continue)
- Your 4.14 process (same method, new version)

QUESTIONS?
----------
Read these files:
1. UPDATES_SUMMARY.md - Migration guide
2. CHANGELOG.md - Detailed changes
3. custom-ami-build/README.md - Updated process

REFERENCES:
-----------
- Red Hat Docs: https://docs.redhat.com/en/documentation/openshift_container_platform/4.16/html/installing_on_aws/
- RHCOS Downloads: https://mirror.openshift.com/pub/openshift-v4/x86_64/dependencies/rhcos/4.16/
- Your 4.14 PDF: Still applicable (just update version numbers)

---
Document Version: 2.0
Date: January 21, 2026
Status: Complete and Accurate
Method: Red Hat Official VMDK Import
